<% layout("layouts/boilerplate")%>
  <div id="map" class="cluster-map"></div>
  <h1>All Campgrounds</h1>
  <div>
    <a href="/campgrounds/new">Add Campground</a>
  </div>
  <div class="row">
    <% for (let camp of camps) {%>
      <div class="col-6">
        <div class="card mb-3" style="width: 40rem;">
          <% if(camp.images.length){ %>
            <img src="<%= camp.images[0].url %>" class="card-img-top" alt="...">
            <% }else{%>
              <img src="https://res.cloudinary.com/dlgqruevd/image/upload/v1730447483/YelpCamp/gf07ofb2zimxgtw0miqs.jpg"
                class="" alt="...">
              <% } %>
                <div class="card-body">
                  <h5 class="card-title">
                    <%= camp.title %>
                  </h5>
                  <p class="card-text">
                    <%= camp.description %>
                  </p>
                  <p class="card-text text-light-emphasis">
                    <%= camp.location %>
                  </p>
                  <a href="campgrounds/<%= camp._id %>" class="btn btn-primary">View <%= camp.title %></a>
                </div>
        </div>
      </div>
      <% }%>
  </div>
  <script>
    const mapToken = "<%-process.env.MAP_TOKEN %>";
    const camps = {features:<%-JSON.stringify(camps)%>}
  </script>
  <script src="/javascripts/clusterMap.js"></script>